<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title><%= htmlWebpackPlugin.options.title %></title>

    <%= htmlWebpackPlugin.options.preHead %>
    <!-- -->
    <%= htmlWebpackPlugin.tags.headTags %>
    <!-- -->
    <%= htmlWebpackPlugin.options.postHead %>

    <script>
      if (
        localStorage.theme === 'dark' ||
        (!'theme' in localStorage && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.querySelector('html').classList.add('dark');
      } else {
        document.querySelector('html').classList.remove('dark');
      }
    </script>
  </head>
  <body style="margin: 0; padding: 0" class="transition-colors duration-500 dark:bg-gray-900">
    <div id="app">
      <style>
        @keyframes spinner-animation {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(1turn);
          }
        }
        .dark > body {
          background-color: rgba(26, 32, 44);
        }
        #content-wrapper {
          box-sizing: border-box;
          display: flex;
          flex-direction: column;
          justify-content: center;
          overflow: hidden;
          height: 100vh;
        }
        #loading-wrapper {
          display: flex;
          align-items: center;
          justify-content: center;
          vertical-align: middle;
        }
        #spinner {
          animation: spinner-animation 0.5s linear infinite;
        }
        #spinner > svg {
          display: block;
        }
        #spinner-track {
          fill-opacity: 0;
          stroke: #5c708033;
        }
        #spinner-head {
          fill-opacity: 0;
          stroke: #5c7080cc;
          stroke-linecap: round;
          transform-origin: center;
          transition: stroke-dashoffset 0.2s cubic-bezier(0.4, 1, 0.75, 0.9);
        }
      </style>
      <div id="content-wrapper">
        <div id="loading-wrapper">
          <div id="spinner">
            <svg width="50" height="50" stroke-width="8.00" viewBox="1.00 1.00 98.00 98.00">
              <path
                id="spinner-track"
                d="M 50,50 m 0,-45 a 45,45 0 1 1 0,90 a 45,45 0 1 1 0,-90"
              ></path>
              <path
                id="spinner-head"
                d="M 50,50 m 0,-45 a 45,45 0 1 1 0,90 a 45,45 0 1 1 0,-90"
                pathLength="280"
                stroke-dasharray="280 280"
                stroke-dashoffset="210"
              ></path>
            </svg>
          </div>
        </div>
      </div>
    </div>

    <%= htmlWebpackPlugin.options.preBody %>
    <!-- -->
    <%= htmlWebpackPlugin.tags.bodyTags %>
    <!-- -->
    <%= htmlWebpackPlugin.options.postBody %>
  </body>
</html>
